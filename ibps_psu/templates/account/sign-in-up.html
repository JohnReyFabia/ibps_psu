{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>

    <!-- Favicons -->
    <link href="{% static 'img/ibps-logo.png' %}" rel="icon">


    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/remixicon/remixicon.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'css/sign-in.css' %}" />
    <title>IBPS-PSU - Sign in</title>
  </head>
  <body>
    <header id="header" class="header fixed-top">
      <div class="container-fluid container-xl d-flex align-items-center justify-content-between">
  
        <a href="{% url 'landingpage:home' %}" class="logo d-flex align-items-center">
          <img src="{% static 'img/psu/psu.png' %}" alt="">
          <img src="{% static 'img/psu/cs.png' %}" alt="">
          <img src="{% static 'img/psu/osas.png' %}" alt="">
          <span>IBPS-PSU</span>
        </a>
  
        <nav id="navbar" class="navbar">
          <ul>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#hero ">Home</a></li>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#about  ">About</a></li>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#services ">Burnout Profiles</a></li>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#team ">Team</a></li>
            <!-- <li><a class="nav-link scrollto" href="tos.html ">Terms of Services</a></li>
            <li><a href="privacy_policy.html">Privacy Policy</a></li> -->
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#contact ">Contact</a></li>
            <li><a class="getstarted scrollto" href="{% url 'landingpage:login' %}">Sign In</a></li>
          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
  
        </nav><!-- .navbar -->
  
      </div>
    </header><!-- End Header -->

    <div class="formss {{ mode }}">
      <div class="forms-container">
        <!-- {% if messages %}
        {% for message in messages %}
          {% if message.tags and message.tags == 'error' %}
            <div class="alert alert-danger" role="alert">
              <strong>Error:</strong> {{ message }} 
            </div>
          {% else %}
            <div class="alert alert-success" role="alert">
              {{ message }}
            </div>
          {% endif %}
        {% endfor %}
        {% endif %} -->
        <div class="signin-signup">
          <form method="POST" action="{% url 'landingpage:login' %}" class="sign-in-form">
            {% csrf_token %}
            <h2 class="title">Sign in</h2>
            {% if form.login.non_field_errors %}
              <span class="text-error">{{ form.login.non_field_errors }}</span>
            {% endif %}
            <div class="input-field">
              <i class="fas fa-user"></i>
              {{ form.login.user_log }}
            </div>
            <div class="input-field password-toggle">
              <i class="fas fa-lock"></i>
              {{ form.login.user_pass }}
              <i class="fas fa-eye-slash toggle-eye" id="toggle-password"></i>
            </div>

            <button type="submit" class="btn solid">Sign In</button>
            <br><br><br>
            <p class="social-text">Already forgotten the password? Click below.</p>
            <button type="button" id="forgotPassword" href="#">Forgot Password?</button>
          </form>

          <form method="POST" action="{% url 'landingpage:student-register' %}" class="sign-up-form">
            {% csrf_token %}
            <h2 class="title">Sign up</h2>
            {% if success %}
              <span class="text-success">{{ text }}</span>
            {% endif %}
            <!-- {% if form.register.non_field_errors %}
              <span class="text-success">{{ form.register.non_field_errors }}</span>
            {% endif %} -->
            <div class="input-field">
              <i class="fas fa-envelope"></i>
              {{ form.register.email }}
              <!-- <input type="email" placeholder="Email" /> -->
            </div>
            <span class="text-error">{{ form.register.email.errors }}</span>
            <div class="input-field">
              <i class="fas fa-user"></i>
              <!-- <input type="email" placeholder="Student ID" /> -->
              {{ form.register.student_id }}
              <!-- {{ form.register.counselor_id }} -->
            </div>
            <span class="text-error">{{ form.register.student_id.errors }}</span>
            <!-- <span class="text-error">{{ form.register.counselor_id.errors }}</span> -->

            <div class="input-field">
              <i class="fas fa-building"></i>
              {{ form.register.program }}
              <!-- {{ form.register.college }} -->
            </div>          
            <span class="text-error">{{ form.register.program.errors }}</span>
            <!-- <span class="text-error">{{ form.register.college.errors }}</span> -->
            <div class="input-field password-toggle">
              <i class="fas fa-lock"></i>
              {{ form.register.password }}
              <i class="fas fa-eye-slash toggle-eye" id="toggle-new-password"></i>
            </div>
            <span class="text-error">{{ form.register.password.errors }}</span>
            <div class="input-field password-toggle">
              <i class="fas fa-lock"></i>
              {{ form.register.confirm_password }}
              <i class="fas fa-eye-slash toggle-eye" id="toggle-confirm-password"></i>
            </div>
            <span class="text-error">{{ form.register.confirm_password.errors }}</span>

            <!-- <div class="input-field">
              <i class="fas fa-check"></i>
              {{ form.register.verification_code }}
            </div>
            <span class="text-error">{{ form.register.verification_code.errors }}</span> -->

            <p style="font-size: smaller; margin-top: 15px;">
              By signing up, you agree to our <a href="{% url 'landingpage:tos' %}" target="_blank">Terms of Services</a> and <a href="{% url 'landingpage:privacy-policy' %}" target="_blank">Privacy Policy</a>.
            </p>
            <!-- <input type="submit" class="btn" value="Sign up" /> -->
            <!-- <a class="btnn solid" href="student-index.html">Sign up</a> -->
            <button type="submit" name="register" class="btn solid">Register</button>
          </form>

          <form method="POST" action="{% url 'landingpage:forget-pass' %}" class="forgot-pass-form">
            {% csrf_token %}
            
            <h2 class="title">Forgot Password</h2>
            {% if success %}
              <span class="text-success">{{ text }}</span>
            {% endif %}
            
            <div class="input-field">
              <i class="fas fa-envelope"></i>
              {{ form.forgot_password.email }}
            </div>
            <span class="text-error">{{ form.forgot_password.email.errors }}</span>
           
            <button type="submit" class="btn solid">Send</button>
          </form>
        </div>
      </div>
    

      <div class="panels-container">
        <div class="panel left-panel">
          <div class="content">
            {% comment %}<h3>Don't Have an Account?</h3>{% endcomment %}
            <p>
              Academic growth and mental wellness flourish hand in hand. Let's foster a culture of support, where every individual thrives emotionally and intellectually. Together, we rise resilient, guided by empathy and strength.
            </p>
            {% comment %}<button class="btn transparent" id="sign-up-btn">
                Sign up
            </button>{% endcomment %}
          </div>
          <img src="{% static 'img/psu/psu.png' %}" class="image" alt="" />
        </div>
        <div class="panel right-panel">
          <div class="content">
            {% comment %}<h3>Already have an existing account?</h3>{% endcomment %}
            <h3>Remembered your account?</h3>
            <p>
              Click the button below to sign in.
            </p>
            <button class="btn transparent" id="sign-in-btn">
              Sign in
            </button>
          </div>
          <img src="{% static 'img/psu/psu.png' %}" class="image" alt="" />
        </div>
      </div>
    </div>

    <script src="{% static 'js/sign-in.js' %}"></script>

    <script>

      const togglePassword = (passwordField, toggleButton) => {
        const field = document.getElementById(passwordField);
        const toggle = document.getElementById(toggleButton);
    
        toggle.addEventListener("click", () => {
          if (field.type === "password") {
            field.type = "text";
            toggle.classList.remove("fa-eye-slash");
            toggle.classList.add("fa-eye");
          } else {
            field.type = "password";
            toggle.classList.remove("fa-eye");
            toggle.classList.add("fa-eye-slash");
          }
        });
      };
    
      togglePassword("password", "toggle-password");
      togglePassword("new-password", "toggle-new-password");
      togglePassword("confirm-password", "toggle-confirm-password");

    </script>    
  </body>
</html>
