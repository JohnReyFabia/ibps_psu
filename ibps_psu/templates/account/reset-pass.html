{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://kit.fontawesome.com/64d58efce2.js" crossorigin="anonymous"></script>

    <!-- Favicons -->
    <link href="{% static 'img/ibps-logo.png' %}" rel="icon">


    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="{% static 'vendor/aos/aos.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/remixicon/remixicon.css' %}" rel="stylesheet">
    <link href="{% static 'vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">
    
    <link rel="stylesheet" href="{% static 'css/reset-pass.css' %}" />
    <title>Reset Password</title>
  </head>
  <body>
    <header id="header" class="header fixed-top">
      <div class="container-fluid container-xl d-flex align-items-center justify-content-between">
  
        <a href="{% url 'landingpage:home' %}" class="logo d-flex align-items-center">
          <img src="{% static 'img/psu/psu.png' %}" alt="">
          <img src="{% static 'img/psu/cs.png' %}" alt="">
          <img src="{% static 'img/psu/osas.png' %}" alt="">
          <span>IBPS-PSU</span>
        </a>
  
        <nav id="navbar" class="navbar">
          <ul>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#hero ">Home</a></li>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#about  ">About</a></li>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#services ">Burnout Profiles</a></li>
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#team ">Team</a></li>
            <!-- <li><a class="nav-link scrollto" href="tos.html ">Terms of Services</a></li>
            <li><a href="privacy_policy.html">Privacy Policy</a></li> -->
            <li><a class="nav-link scrollto" href="{% url 'landingpage:home' %}#contact ">Contact</a></li>
            <li><a class="getstarted scrollto" href="{% url 'landingpage:login' %}">Sign In</a></li>
          </ul>
          <i class="bi bi-list mobile-nav-toggle"></i>
  
        </nav><!-- .navbar -->
  
      </div>
    </header><!-- End Header -->
    <div class="formss">
      <div class="forms-container">
        <div class="signin-signup">
          <form method="POST" class="change-pass-form">
            {% csrf_token %}
            <h2 class="title">Change Password</h2>
            {% if form.non_field_errors %}
              <span class="text-error">{{ form.non_field_errors }}</span>
            {% elif success %}
              <span class="text-success">Password changed successfully!</span>
            {% endif %}
            <div class="input-field password-toggle">
              <i class="fas fa-unlock"></i>
              {{ form.new_password1 }}
              <i class="fas fa-eye-slash toggle-eye" id="toggle-new-password"></i>
            </div>
            <span class="text-error">{{ form.new_password1.errors }}</span>
            <div class="input-field password-toggle">
              <i class="fas fa-lock"></i>
              {{ form.new_password2 }}
              <i class="fas fa-eye-slash toggle-eye" id="toggle-confirm-password"></i>
            </div>
            <span class="text-error">{{ form.new_password2.errors }}</span>
            <!-- <a class="btnn solid" href="admin-index.html">Change Passsword</a> -->
            <input type="hidden" name="user_id" value="{{ user_id }}" />
            <button type="submit" name="register" class="btn solid">Change Passsword</button>
            <!-- <input type="submit" value="Change Passsword" class="btn solid" /> -->
          </form> 
        </div>
      </div>

      <div class="panels-container">
        <div class="panel change-pass-panel">
          <div class="change-pass-content">
            <p>“You are capable of achieving more than you think. Believe in yourself and take the first step.”</p>
          </div>
          <img src="{% static 'img/changepass.png' %}" class="pass-image" alt="" />
        </div>
      </div>
    </div>

    <script src="{% static 'js/sign-in.js' %}"></script>

    <script>
      const togglePassword = (passwordField, toggleButton) => {
        const field = document.getElementById(passwordField);
        const toggle = document.getElementById(toggleButton);
    
        toggle.addEventListener("click", () => {
          if (field.type === "password") {
            field.type = "text";
            toggle.classList.remove("fa-eye-slash");
            toggle.classList.add("fa-eye");
          } else {
            field.type = "password";
            toggle.classList.remove("fa-eye");
            toggle.classList.add("fa-eye-slash");
          }
        });
      };
    
      togglePassword("new-password", "toggle-new-password");
      togglePassword("confirm-password", "toggle-confirm-password");
    </script>
       
  </body>
</html>
